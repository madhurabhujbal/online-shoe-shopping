<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <link rel="stylesheet" href="/style/custom.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

        <title>Golden shoe</title>
    </head>
    <body>
      <%- include ('./common/navbar.ejs') -%>
      <%- include ('./common/message.ejs') -%>
        <% let isEmpty = false;
           if(!cart || cart.length == 0) {
               isEmpty = true;
        %>
            <h3 class="m-4 fw-bold">Your Cart is empty!!!</h3>
        <%} else {%>
            <h3 class="m-4 fw-bold">Your Cart</h3>
            <%} %>
          <!-- Order details -->
          <% if(!isEmpty) {%>
        <b class="m-4">Details</b>
        <div class="list-group m-4">
          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start list-group-item-dark">
            <div class="d-flex w-100 justify-content-between">
              <small>ID</small>
              <small>Quantity</small>
              <small>Size</small>
              <small>Price</small>
           </div>
          </a>
          <% } %>
          <% let total = 0;
             for (item of cart ) {
                total += parseFloat(item.price);
           %>
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start 'list-group-item-light'  %>">
            <div class="d-flex w-100 justify-content-between">
                <small><%=item.id%></small>
                <!-- TODO: Avoid using spaces for uniform column look-->
                <small>&nbsp;&nbsp;&nbsp;&nbsp;<%=item.count%></small>
                <small>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<%=item.size%></small>
                <small>£<%=item.price%></small>
            </div>
          </a>
          <% } %>
        </div>
        <% if(!isEmpty) { %>
          <form action="/checkout" method="POST">
            <p class="text-end fs-3 m-4 fw-bold">Total: £<%=total.toFixed(2)%></p>
            <button type="submit" id="checkout" class="btn btn-dark btn-lg m-4 float-end">Checkout Cart</button>
          </form>
        <%} %>
        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
      </body>
</html>